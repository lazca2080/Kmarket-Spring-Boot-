<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.kmarket.dao.CsDAO">
    <select id="selectCss" resultType="kr.co.kmarket.vo.CsVO">
       (select * from km_cs where `cate`='notice' limit 5)
		UNION
		(select * from km_cs where `cate`='qna' limit 5)
    </select>
	
	<select id="selectNtList" resultType="kr.co.kmarket.vo.CsVO">
		SELECT `no`, `cate`, `cateType1`, `title`, `rdate` FROM km_cs 
		<if test="cateType1 != null">
		WHERE `cateType1`= #{cateType1}
		</if>
		order by `no` desc limit #{start}, 10;
	</select>
	
	<select id="selectCountTotal" resultType="int">
		select count(`no`) from `km_cs` where `parent`=1 
		<if test="cateType1 != null">	
		and `cateType1` = #{cateType1};
		</if>
	</select>	
	
	<select id="selectCs" resultType="kr.co.kmarket.vo.CsVO">
		SELECT * FROM  `km_cs` WHERE `no`= #{no};
	</select>
	
	<update id="updateArticleHit">
		UPDATE `km_cs` SET `hit`=`hit`+1 WHERE `no`=#{no};
	</update>
	
	<select id="selectFaqArticles" resultType="kr.co.kmarket.vo.CsVO">
		SELECT * FROM `km_cs` WHERE `cateType1`= #{cateType1} ORDER BY `cateType2`, `rdate` DESC;
	</select>
	
	<select id="selectArticles">
		select * from `km_cs` where `cate`=#{cate} and `cateType1`=#{cateType1} order by `no` desc limit #{start},10; 
	</select>
</mapper>
